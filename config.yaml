# G-Manga Configuration
# Transform Project Gutenberg literature into manga-styled comics

# LLM Provider Configuration
llm:
  # LLM Provider: "openai", "openrouter", or "zai"
  provider: "zai"

  # OpenRouter API settings
  # Get your API key from https://openrouter.ai/keys
  api_key: ""  # Set via env: OPENROUTER_API_KEY

  # Optional attribution (for OpenRouter rankings)
  http_referer: ""  # Your website URL (optional)
  x_title: "G-Manga"  # Your app name (optional)

  # Base URL (default: OpenRouter)
  api_base_url: "https://openrouter.ai/api/v1"

  # Request timeout (seconds)
  api_timeout: 60

  # Max retries for failed requests
  max_retries: 3

  # Z.AI Configuration (https://z.ai)
  # Alternative LLM provider with GLM-4.7 models
  zai:
    enabled: true  # Z.AI enabled
    api_key: ""  # Set via env: ZAI_API_KEY
    base_url: "https://api.z.ai/api/paas/v4/"  # International endpoint
    # base_url: "https://open.bigmodel.cn/api/paas/v4/"  # Chinese endpoint
    default_model: "glm-4.7"
    available_models:
      - "glm-4.7"          # General purpose
      - "glm-4.5"          # Previous generation
      - "glm-4.5-flash"    # Fast, cost-effective
      - "glm-4.7-coding"   # Code-optimized
    timeout: 60
    max_retries: 3

  # Models per stage
  # Use format: "provider/model" (e.g., "openai/gpt-4o", "zai/glm-4.7")
  # See available models:
  #   - OpenRouter: https://openrouter.ai/docs
  #   - Z.AI: https://docs.z.ai/guides/overview/quick-start
  scene_breakdown_model: "zai/glm-4.7"

  character_extraction_model: "zai/glm-4.7"

  visual_adaptation_model: "zai/glm-4.7"

  panel_breakdown_model: "zai/glm-4.7"

  storyboard_generation_model: "zai/glm-4.7"

  # Fallback model chain (tries in order if primary fails)
  # Supports mixed providers: openai/gpt-4o, zai/glm-4.7, anthropic/claude-sonnet-4-20250514
  fallback_models:
    - "zai/glm-4.7"
    - "openai/gpt-4o"
    - "anthropic/claude-sonnet-4-20250514"

# Image Generation Settings
image:
  default_provider: "openrouter"
  
  # DALL-E 3 Configuration
  dalle:
    enabled: true
    model: "dall-e-3"
    size: "1024x1024"
    quality: "hd"
    style: "vivid"  # "vivid" or "natural"
    api_key_env: "OPENAI_API_KEY"  # Environment variable for API key
    cost_per_image: 0.04  # USD for 1024x1024 standard
    rate_limit: 10  # requests per minute
    timeout: 60  # seconds
    max_retries: 3
  
  # SDXL (Stability AI) Configuration
  sdxl:
    enabled: true
    model: "stable-diffusion-xl-1024-v1-0"
    size: "1024x1024"
    steps: 30
    cfg_scale: 7.5
    api_key_env: "STABILITY_API_KEY"  # Environment variable for API key
    cost_per_image: 0.04  # USD
    rate_limit: 20  # requests per minute
    timeout: 60  # seconds
    max_retries: 3
  
  # OpenRouter Configuration (supports multiple SD models)
  openrouter:
    enabled: true
    default_model: "black-forest-labs/flux.2-klein-4b"
    available_models:
      - "black-forest-labs/flux.2-klein-4b"
      - "black-forest-labs/flux.2-pro"
      - "black-forest-labs/flux.2-schnell"
      - "google/gemini-2.5-flash-image"
      - "stabilityai/stable-diffusion-xl-base-1.0"
      - "stabilityai/stable-diffusion-xl-refiner-1.0"
    size: "1024x1024"
    api_key_env: "OPENROUTER_API_KEY"  # Environment variable for API key
    attribution_http_referer: ""  # Your website URL (optional)
    attribution_x_title: "G-Manga"  # Your app name
    cost_per_image: 0.02  # USD (varies by model)
    rate_limit: 20  # requests per minute
    timeout: 60  # seconds
    max_retries: 3
  
  # Midjourney (requires additional setup via Discord)
  midjourney:
    enabled: false
    api_key_env: "MIDJOURNEY_API_KEY"  # Not currently supported
    cost_per_image: 0.10  # USD (approximate)

# Manga Styling
manga:
  reading_direction: "left_to_right"  # or "right_to_left"
  line_weight: "medium"  # thin, medium, bold
  shading_style: "screen_tones"  # hatching, screen_tones, solid
  color_mode: "black_and_white"  # black_and_white, grayscale, color
  panel_style: "traditional_borders"  # traditional_borders, modern, none
  default_page_size: "A4"  # A4, Letter, etc.

# Storage and Paths
storage:
  cache_dir: "./cache"
  output_dir: "./output"
  projects_dir: "./projects"
  keep_intermediates: false

# Global Settings
debug_mode: false
log_level: "INFO"  # DEBUG, INFO, WARNING, ERROR
